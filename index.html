<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>Viaje — Planetarium ENHANCED</title>
  <style>html,body{height:100%;margin:0;padding:0;background:#000;overflow:hidden}</style>
  <link rel="stylesheet" href="CSS/viaje.css?v=10" />
  <meta name="theme-color" content="#050814" />
  <meta name="description" content="Experiencia visual inmersiva sincronizada con Planetarium" />
</head>
<body>
  <!-- Mensaje sin audio -->
  <div class="no-audio-msg hidden" id="noAudioMsg">
    <p>⚠️ Audio no disponible</p>
    <p>Esta experiencia requiere el archivo "planetarium.mp3" para sincronización perfecta.<br>Puedes continuar con simulación de tiempo.</p>
    <button class="btn-start" onclick="document.getElementById('noAudioMsg').classList.add('hidden')">Continuar sin audio</button>
  </div>

  <!-- Audio con múltiples fuentes -->
  <audio id="audio" preload="auto">
    <source src="music/planetarium.mp3" type="audio/mpeg">
    <source src="planetarium.mp3" type="audio/mpeg">
  </audio>

  <!-- Escenario principal -->
  <div class="stage v-vignette" id="stage" aria-label="Viaje Planetarium">
    <canvas id="bgCanvas" aria-hidden="true"></canvas>
    <div class="foco-dorado" aria-hidden="true"></div>
    <canvas id="fxCanvas" aria-hidden="true"></canvas>
    <div class="grain-overlay" aria-hidden="true"></div>
    <div class="flash" id="v-flash" aria-hidden="true"></div>
    <div class="v-whisper" id="v-whisper" role="status" aria-live="polite"></div>
    
    <!-- UI -->
    <div class="ui">
      <button class="btn-start" id="btnStart" type="button" aria-label="Iniciar experiencia visual">
        ✨ Iniciar Viaje ✨
      </button>
    </div>
  </div>

  <!-- JavaScript -->
  <script src="JS/viaje.js?v=10"></script>

  <!-- Fallback sin JavaScript -->
  <noscript>
    <div style="position:fixed;inset:0;display:flex;align-items:center;justify-content:center;flex-direction:column;background:linear-gradient(135deg,#000,#1a1a2e);color:#fff;padding:2rem;text-align:center;font-family:system-ui;gap:1rem">
      <h1 style="font-size:2rem;margin:0;text-shadow:0 0 20px rgba(251,191,36,.8)">⚠️ JavaScript Requerido</h1>
      <p style="font-size:1.1rem;opacity:.9;max-width:500px;line-height:1.6">
        Esta experiencia visual inmersiva requiere JavaScript habilitado para funcionar correctamente.
      </p>
      <p style="font-size:.9rem;opacity:.7">
        Por favor, activa JavaScript en tu navegador y recarga la página.
      </p>
    </div>
  </noscript>
</body>
</html>

