/* ===========================
   VIAJE — Estilos autónomos (más movimiento)
   =========================== */
:root{
  --v-bg-1:#05060b; --v-bg-2:#0a0e1a;

  /* Estado global */
  --v-bright:1;      /* 1 → 1.06 */
  --v-sat:1;         /* 1 → 1.06 */
  --v-zoom:1;        /* 1 → 1.045 */
  --v-roll:0deg;     /* -0.5deg → 0.5deg */

  /* Parallax / drift */
  --v-depth-far:7;   /* px */
  --v-depth-mid:12;
  --v-depth-near:18;

  /* amplitud del drift por capa (más grandes para que se note) */
  --v-drift-far:  8.0;
  --v-drift-mid: 14.0;
  --v-drift-near:22.0;

  /* Field de estrellas */
  --v-star-far:  1.2px;
  --v-star-mid:  1.8px;
  --v-star-near: 2.6px;
  --v-speed:1;      /* multiplicador twinkle */

  /* Textos */
  --v-whisper:#e8ecff;
  --v-whisper-shadow:0 0 12px rgba(140,170,255,.35);
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  background: radial-gradient(1200px 800px at 50% 60%, var(--v-bg-2), var(--v-bg-1) 65%);
  color:#fff; overflow:hidden;
  font-family:ui-sans-serif, system-ui, "Segoe UI", Roboto, Arial, sans-serif;
  filter:brightness(var(--v-bright)) saturate(var(--v-sat));
  transform:translateZ(0) scale(var(--v-zoom)) rotate(var(--v-roll));
  transition:filter .35s ease, transform .35s ease;
}

/* ===== Sky / capas ===== */
#v-sky{position:fixed; inset:0; pointer-events:none;}
.v-layer{position:absolute; inset:0; filter:drop-shadow(0 0 2px rgba(255,255,255,.05));}

.v-star{
  position:absolute;
  width:var(--s,2px); height:var(--s,2px);
  background:radial-gradient(circle,#fff,rgba(255,255,255,.65) 60%,transparent 70%);
  border-radius:50%;
  opacity:var(--o,.85);
  animation:v-twinkle calc(var(--tw,2.4s)/var(--v-speed)) linear infinite;
}
@keyframes v-twinkle{
  0%,100%{ opacity:var(--tw-min,.45); transform:scale(1) }
  50%    { opacity:var(--tw-max,.95); transform:scale(1.08) }
}

/* Nebulosas / glows */
#v-glows{position:absolute; inset:0; pointer-events:none; mix-blend-mode:screen}
.v-glow{
  position:absolute; width:42vmax; height:42vmax; border-radius:50%;
  background:
    radial-gradient(circle at 45% 55%, rgba(110,140,255,.16), rgba(30,20,60,0) 70%),
    radial-gradient(circle at 55% 45%, rgba(250,210,150,.10), rgba(0,0,0,0) 70%);
  filter: blur(18px);
  opacity:.42;
  transform: translate(-50%,-50%) scale(1);
}

/* Canvas constelaciones */
#v-constellations{
  position:absolute; inset:0; pointer-events:none; mix-blend-mode:screen; opacity:.9;
}

/* Whispers */
#v-whispers{position:absolute; inset:0; pointer-events:none;}
.v-whisper{
  position:absolute; opacity:0; color:var(--v-whisper); text-shadow:var(--v-whisper-shadow);
  font-size:clamp(14px,2.4vw,28px); letter-spacing:.6px; line-height:1.15;
  animation:v-whisper 3.6s ease forwards;
}
@keyframes v-whisper{
  0%{opacity:0; transform:translateY(8px) scale(.98); filter:blur(2px)}
  12%{opacity:.95; transform:translateY(0) scale(1); filter:blur(0)}
  85%{opacity:.92}
  100%{opacity:0; transform:translateY(-8px) scale(.99); filter:blur(1px)}
}

/* Sparkles (tap/click) */
#v-sparkles{position:fixed; inset:0; pointer-events:none;}
.v-sparkle{
  position:absolute; width:11px; height:11px; border-radius:50%;
  background:radial-gradient(circle,#fff,rgba(255,255,255,.4) 60%,transparent 70%);
  box-shadow:0 0 16px rgba(255,255,255,.65);
  transform:translate(-50%,-50%) scale(.6);
  opacity:.95; animation:v-spark .9s ease-out forwards;
}
@keyframes v-spark{to{transform:translate(-50%,-50%) scale(1.9); opacity:0}}

/* Micro-flash */
.v-flash{
  position:fixed; inset:0; pointer-events:none;
  background:radial-gradient(circle at 50% 50%, rgba(255,255,255,.18), rgba(255,255,255,0) 60%);
  animation:v-flash .13s ease-out forwards;
}
@keyframes v-flash{from{opacity:.95} to{opacity:0}}

/* UI */
#v-ui{position:fixed; left:16px; bottom:16px; z-index:10; pointer-events:auto}
#v-play{
  background:#101625; color:#fff; border:1px solid #26324d; padding:10px 16px; border-radius:999px;
  cursor:pointer; font-weight:600;
}

/* Estados */
body.v-ramp-1{ filter:brightness(1.045) saturate(1.045); }
body.v-preclimax{ --v-bright:1.06; --v-zoom:1.045; }

/* Seguridad */
body:not(.v-active) #v-constellations,
body:not(.v-active) #v-whispers,
body:not(.v-active) #v-sparkles{ display:none }


/* Seguridad: si no está activo, oculta overlays */
body:not(.v-active) #v-constellations,
body:not(.v-active) #v-whispers,
body:not(.v-active) #v-sparkles{ display:none }

